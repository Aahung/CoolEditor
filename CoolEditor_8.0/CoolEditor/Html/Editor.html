<!DOCTYPE HTML>
<html>
    <head>
    	<meta name="viewport" content="user-scalable=no, initial-scale=1, 
maximum-scale=1, minimum-scale=1" />
        <title>Cool Editor</title>
        <script type="text/javascript" src="src-min-noconflict/ace.js"></script>
        <style type="text/css" media="screen">
		    #editor { 
		        position: absolute;
		        top: 0;
		        left: 0;
		        right: 0;
                min-height: 100%;
		    }
            #viewonlymask {
                min-height: 95%;
            }
		</style>
    </head>
    <body>
        <div id="editor">
        	
        </div>
        <script type="text/javascript">
            var viewOnly, // define the view only property of editor
            editor; // editor 
            function resize() {
                var height = document.getElementsByClassName('ace_scrollbar-inner')[0].style.height;
                document.getElementById('editor').style.height = parseInt(height) + 30 + 'px';
                editor.resize();
                setViewOnly(viewOnly);
            }
            function setNicePosition() {
                document.body.scrollTop = position;
            }
            function setViewOnly(bool) {
                viewOnly = bool;
                try {
                    editor.setReadOnly(bool);
                    if (bool) {
                        var mask = document.getElementById('viewonlymask');
                        if (!mask) {
                            mask = document.createElement('div');
                            mask.id = "viewonlymask";
                            mask.style.position = 'absolute';
                            mask.style.top = 0;
                            mask.style.width = "100%";
                            mask.style.margin = "-8px";
                            mask.style.padding = "0";
                            mask.style.background = "rgba(0, 0, 0, 0.01)";
                            // mask.style.background = "gray";
                            mask.style.zIndex = 1000000000000000;
                            document.getElementsByTagName("body")[0].appendChild(mask);
                        }
                        var height = document.getElementsByClassName('ace_scrollbar-inner')[0].style.height;
                        mask.style.height = parseInt(height) + 40 + 'px';
                        mask.style.display = "block";
                    } else {
                        var mask = document.getElementById('viewonlymask');
                        mask.style.display = "none";
                    }
                } catch (e) {
                    return e;
                }
            }
        </script>
    </body>
</html>